# 변수와 메서드

### 변수

선언위치에 따라 변수의 종류는 달라진다. 

1. 클래스변수
2. 인스턴스변수
3. 지역변수

**인스턴스변수**

- 클래스의 인스턴스를 생성할 때 만들어진다.   (인스턴스 변수의 값을 읽거나 저장하기 위해서는 인스턴스를 먼저 생성해야한다.)
- 인스턴스마다 고유한 상태를 유지해야하는 속성의 경우에 선언

**클래스 변수**

- static + 인스턴스변수
- 모든 인스턴스가 공통된 변수(저장공간)를 공유한다. (공통적인 값을 유지해야한 속성의 경우에 선언)
- 인스턴스 생성없이 바로 사용가능

**지역변수**

- 메서드 내에 선언

**정리** 

인스턴스 변수는 인스턴스 생성시에 생성되며 각기 다른 값을 유지할 수 있지만, 클래스 변수는 모든 인스턴스가 하나의 저장공간을 공유하므로 항상 공통된 값을 갖는다. 

---

### 메서드

프로그램을 설계할 때 내용이 없는 메서드를 작업단위로 만들어 놓고, 하나씩 완성해가는 것도 프로그램을 구조화하는 좋은 방법이다. 

### return문

메서드의 반환타입이 void가 아닌 경우, 구현부 { } 안에 ‘return 반환값;’이 반드시 포함되어 있어야 한다. void인 경우 return문이 없으면 컴파일러가 자동으로 추가해준다. 

만약 void가 아닌 경우 return문 없다면 → error: missing return statement 발생

**인자(argument)와 매개변수(parameter)**

메서드를 호출할 때 괄호{ }안에 지정해준 값들을 인자, 인수라고 한다. 

**메서드의 실행흐름**

같은 클래스 내의 메서드끼리는 참조변수를 사용하지 않고도 서로 호출이 가능하지만 static메서드는 같은 클래스 내의 인스턴스 메서드를 호출할 수 없다. 

 이유 : static메서드는 언제든지 바로 사용가능하지만 인스턴스 메서드는 인스턴스를 생성하고 사용해야하기 때문에 

**매개변수의 유효성 검사** 

메서드 구현부{ } 작성할 떄, 매개변수의 값이 적절한 것인지 확인하는 것 (항상 생각할 것)

 

---

**JVM의 메모리 구조** 

3가지 주요 영역 

1. **메서드 영역 (method area)**
    - 프로그램 실행 중 어떤 클래스가 사용되면 JVM은 해당 클래스의 클래스파일을 읽고 분석 후 클래스에 대한 정보(클래스 데이터)를 저장한다. 이 때!! 그 클래스의 클래스변수도 함께 생성된다.
    - **클래스 데이터, 클래스변수**
2. **힙 (heap)**
    - 인스턴스가 생성되는 공간
    - **인스턴스 변수**
3. **호출스택 (call stack or execution stack)**
    - 메서드 호출되면 수행에 필요한 만큼의 메모리를 스택에 할당받는다.
    - 메서드 작업이 끝나면 사용했던 메모리 반환하고 스택에서 제거
    - 제일 위에 위치하는 메서드가 현재 실행 중인 메서드이며, 나머지는 대기상태이다.
    - 아래에 있는 메서드가 바로 위의 메서드를 호출한 메서드
    

---

### 기본형 매개변수와 참조형 매개변수

자바에서는 **메서드를 호출 시 매개변수로 지정한 값을 메서드의 매개변수에 복사해서 넘겨준다.** 

**기본형** - **값**이 복사된다.  / 변수의 값을 읽기만 할 수 있다. (only read)

**참조형** - **인스턴스의 주소**가 복사된다. 그로 인해 **변수의 값을 읽고 변경할 수 있다. (read & write)**

**참조형 반환타입**

반환타입이 참조형이라는 것은 메서드가 객체의 주소를 반환한다는 것을 의미한다. 

---

### **클래스 메서드(static 메서드)와 인스턴스 메서드**

- 변수와 똑같이 static 유무로 판별
- 인스턴스 메서드는 반드시 객체 생성해야만 호출 가능

그러면 **어떤 경우에 static을 사용해서 클래스 메서드로 정의**해야할까??

인스턴스 메서드는 **인스턴스 변수와 관련된 작업을 하**는, 즉 메서드의 작업을 수행하는데 **인스턴스 변수를 필요로 하는 메서드**이다. 

**인스턴스와 관계없는(인스턴스 변수나 인스턴스 메서드를 사용하지 않는) 메서드를** 클래스 메서드(static메서드)로 정의한다. 

**정리**

1. 클래스 설계할 때, 멤버변수 중에 모든 인스턴스에 공통으로 사용하는 것은 static을 붙인다.(static변수로 정의) 
2. static변수는 인스턴스를 생성하지 않고도 사용할 수 있다. 
3. static메서드는 인스턴스 변수를 사용할 수 없다. 
    - 이유: static메서드는 언제나 호출가능해서 만약에 인스턴스 생성 전에 호출할 경우 인스턴스 변수가 존재하지 않기 때문에 금지한다.
4. 메서드 내에서 인스턴스 변수를 사용하지 않는다면, static을 붙이는 것을 고려한다. ↔ 반대로 인스턴스변수가 필요없다면 static을 붙이자. 

---

### 클래스 멤버와 인스턴스 멤버간의 참조와 호출

- 같은 클래스에 속한 멤버들 간에는 별도의 인스턴스를 생성하지 않고도 서로 참조 또는 호출이 가능하다.
    - **단, 클래스멤버가 인스턴스 멤버를 참조 또는 호출하고자 하는 경우에는 인스턴스를 생성해야한다.**
    - 이유: 인스턴스 멤버가 존재하는 시점에 클래스멤버는 항상 존재하지만, 클래스멤버가 존재하는 시점에 인스턴스 멤버가 존재하지 않을 수도 있기 때문에